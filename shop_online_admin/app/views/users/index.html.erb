
<div class="container-fluid">
  <div>
    <div class="row">
      <div class="col col-md-8">
      <h1>Users</h1>
      </div>
      <div class="col col-md-4">
        <%= form_tag search_users_path, method: :get do %>
        <%= text_field_tag :q, nil, placeholder: 'Search..' %>
        <% end %>
      </div>
    </div>
      <%= link_to 'New User', new_user_path,:class => 'btn btn-primary ' %>
  </div>
  <div>
    <table class="table table-responsive">
      <thead>
        <tr>
          <th>Firstname</th>
          <th>Lastname</th>
          <th>Email</th>
          <th>Role</th>
          <th>Birthday</th>
          <th>Avatar</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @users.each do |user| %>
        <tr>
          <td><%= user.firstname %></td>
          <td><%= user.lastname %></td>
          <td><%= user.email %></td>
          <td><%= user.role %></td>
          <td><%= user.birthday %></td>
          <td><img src = "<%= user.avatar %>" style="width: 40px; height: 40px" alt="null"/></td>
          <td><%= link_to 'Show', user ,:class => 'btn btn-primary'%></td>
          <td><%= link_to 'Edit', edit_user_path(user) ,:class => 'btn btn-warning'%></td>
          <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } ,:class => 'btn btn-danger'%></td>
          <td><%= link_to 'Reset password', reset_password_user_path(user), method: :post, data: { confirm: 'Are you sure?' } ,:class => 'btn btn-success'%></td>
        </tr>
        <% end %>
      </tbody>
    </table>
    <br>
  </div>
  <div class="box-footer clearfix">
    <ul class="pagination pagination-sm no-margin pull-right">
      <li>
        <%= link_to users_path(page: params[:page].to_i-1 < 1 ? 1 : params[:page].to_i-1) do %>
        <span>&laquo;</span>
        <% end %>
      </li>
      <% for i in (@start_page..@end_page)%>
      <li> <%=link_to i, users_path(:page => i)%></li>
      <% end %>
      <li>
        <%= link_to users_path(page: (params[:page].to_i+1>@page_numbers ? @page_numbers : params[:page].to_i+1)) do %>
        <span>&raquo;</span>
        <% end %>
      </li>
    </ul>
  </div>
</div>
