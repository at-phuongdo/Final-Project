<div class="row">
  <div class="col col-md-8">
    <h1>Items</h1>
  </div>
  <div class="col col-md-4">
    <%= form_tag search_items_path, method: :get do %>
    <%= text_field_tag :q, nil, placeholder: 'Search..' %>
    <% end %>
  </div>
</div>
<%= link_to 'New Item', new_item_path , :class => 'btn btn-primary'%>

<table class="table table-responsive">
  <thead>
    <tr>
      <th>Name</th>
      <th>Price</th>
      <th>Avatar</th>
      <th>Status</th>
      <th>Quantity</th>
      <th>Shop</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @items.each do |item| %>
    <tr>
      <td><%= item.name %></td>
      <td><%= item.price %></td>
      <td><%= image_tag(item.avatar, size: "40x40") if item.avatar?%></td>
      <td><%= item.quantity == 0 ? 'Hết hàng' : 'Còn hàng' %></td>
      <td><%= item.quantity %></td>
      <td><%= Shop.find(item.shop_id).name %></td>
      <td><%= link_to 'Show', item, :class => 'btn btn-primary' %></td>
      <td><%= link_to 'Edit', edit_item_path(item), :class => 'btn btn-warning' %></td>
      <td><%= link_to 'Destroy', item, method: :delete, data: { confirm: 'Are you sure?' },:class => 'btn btn-danger'%></td>
    </tr>
    <% end %>
  </tbody>
</table>

<div class="box-footer clearfix">
 <ul class="pagination pagination-sm no-margin pull-right">
   <li>
     <%= link_to items_path(page: params[:page].to_i-1 < 1 ? 1 : params[:page].to_i-1) do %>
     <span>&laquo;</span>
     <% end %>
   </li>
   <% for i in (@start_page..@end_page)%>
   <li> <%=link_to i, items_path(:page => i)%></li>
   <% end %>
   <li>
     <%= link_to items_path(page: (params[:page].to_i>@page_numbers ? @page_numbers : params[:page].to_i)) do %>
     <span>&raquo;</span>
     <% end %>
   </li>
 </ul>
</div>